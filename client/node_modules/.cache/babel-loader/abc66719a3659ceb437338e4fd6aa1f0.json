{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin2\\\\OneDrive\\\\Lambda School\\\\Web_3.3\\\\BuildWeek2-ContextAPI\\\\client\\\\src\\\\components\\\\SignUpForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axiosWithAuth from '../utils/axiosWithAuth';\nimport * as yup from 'yup';\nimport { signUpFormSchema } from '../utils/signUpFormSchema';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialFormValues = {\n  first_name: '',\n  last_name: '',\n  role: '',\n  email: '',\n  password: ''\n};\nconst initialFormErrors = {\n  first_name: '',\n  last_name: '',\n  role: '',\n  email: '',\n  password: ''\n};\nexport default function SignUpForm() {\n  _s();\n\n  const [user, setUser] = useState(initialFormValues);\n  const [formValues, setFormValues] = useState(initialFormValues);\n  const [formErrors, setFormErrors] = useState(initialFormErrors);\n  const {\n    push\n  } = useHistory();\n\n  const onChange = evt => {\n    const {\n      name,\n      value\n    } = evt.target;\n    console.log(evt.target.name, evt.target.value);\n    yup.reach(signUpFormSchema, name).validate(value).then(() => {\n      setFormErrors({ ...formErrors,\n        [name]: \"\"\n      });\n    }).catch(err => {\n      setFormErrors({ ...formErrors,\n        [name]: err.errors[0]\n      });\n    });\n    setFormValues({ ...formValues,\n      [name]: //Check for checkboxes\n      evt.target.type === 'checkbox' ? evt.target.checked : value\n    });\n  };\n\n  const signUpUser = newUser => {\n    axiosWithAuth().post('https://reqres.in/api/users', newUser).then(res => {\n      console.log(res.data);\n      setUser(res.data);\n      setFormValues(initialFormValues);\n      push('/login');\n    }).catch(err => {\n      console.log(err.response);\n    });\n  };\n\n  const onSubmit = evt => {\n    evt.preventDefault();\n    const newUser = {\n      first_name: formValues.first_name.trim(),\n      last_name: formValues.last_name.trim(),\n      role: formValues.role,\n      email: formValues.email.trim(),\n      password: formValues.password.trim()\n    };\n    signUpUser(newUser); // // call to API\n    // console.log(newUser)\n  };\n\n  console.log(user);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form container\",\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"First Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: formValues.first_name,\n            onChange: onChange,\n            name: \"first_name\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), formErrors.first_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Last Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: formValues.last_name,\n            onChange: onChange,\n            name: \"last_name\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), formErrors.last_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Role\", /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: onChange,\n            value: formValues.role,\n            name: \"role\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- Select an Option --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"owner\",\n              children: \"Owner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"renter\",\n              children: \"Renter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: formValues.email,\n            onChange: onChange,\n            name: \"email\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), formErrors.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: formValues.password,\n            onChange: onChange,\n            name: \"password\",\n            type: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), formErrors.password]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"submitBtn\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignUpForm, \"tjW+N96TGbzSPxEua5J0Fs1rzYU=\", false, function () {\n  return [useHistory];\n});\n\n_c = SignUpForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpForm\");","map":{"version":3,"sources":["C:/Users/Admin2/OneDrive/Lambda School/Web_3.3/BuildWeek2-ContextAPI/client/src/components/SignUpForm.js"],"names":["React","useState","axiosWithAuth","yup","signUpFormSchema","useHistory","initialFormValues","first_name","last_name","role","email","password","initialFormErrors","SignUpForm","user","setUser","formValues","setFormValues","formErrors","setFormErrors","push","onChange","evt","name","value","target","console","log","reach","validate","then","catch","err","errors","type","checked","signUpUser","newUser","post","res","data","response","onSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport axiosWithAuth from '../utils/axiosWithAuth';\r\nimport * as yup from 'yup'\r\nimport { signUpFormSchema } from '../utils/signUpFormSchema';\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst initialFormValues = {\r\n  first_name: '',\r\n  last_name: '',\r\n  role: '',\r\n  email: '',\r\n  password: '',\r\n}\r\n\r\nconst initialFormErrors = {\r\n  first_name: '',\r\n  last_name: '',\r\n  role: '',\r\n  email: '',\r\n  password: '',\r\n}\r\n\r\nexport default function SignUpForm() {\r\n\r\n  const [user, setUser] = useState(initialFormValues)\r\n  const [formValues, setFormValues] = useState(initialFormValues)\r\n  const [formErrors, setFormErrors] = useState(initialFormErrors)\r\n  const { push } = useHistory();\r\n\r\n  \r\n  const onChange = (evt) => {\r\n    const { name, value } = evt.target\r\n    console.log(evt.target.name, evt.target.value)\r\n\r\n    yup\r\n      .reach(signUpFormSchema, name)\r\n      .validate(value)\r\n      .then(() => {\r\n        setFormErrors({\r\n          ...formErrors,\r\n          [name]: \"\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        setFormErrors({\r\n          ...formErrors,\r\n          [name]: err.errors[0],\r\n        });\r\n      });\r\n\r\n    setFormValues({\r\n      ...formValues, \r\n      [name]:\r\n        //Check for checkboxes\r\n        evt.target.type === 'checkbox' ? evt.target.checked :\r\n          value,\r\n    })\r\n  }\r\n\r\n  const signUpUser = (newUser) => {\r\n    axiosWithAuth()\r\n      .post('https://reqres.in/api/users', newUser)\r\n      .then(res => {\r\n        console.log(res.data)\r\n        setUser(res.data)\r\n        setFormValues(initialFormValues)\r\n        push('/login')\r\n      })\r\n      .catch(err => {\r\n        console.log(err.response)\r\n      })\r\n    }\r\n  const onSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    \r\n    const newUser = {\r\n      first_name: formValues.first_name.trim(),\r\n      last_name: formValues.last_name.trim(),\r\n      role: formValues.role,\r\n      email: formValues.email.trim(),\r\n      password: formValues.password.trim(),\r\n    }\r\n    \r\n    signUpUser(newUser)\r\n    // // call to API\r\n\r\n    // console.log(newUser)\r\n  }\r\n  console.log(user)\r\n  return (\r\n    <div>\r\n      <form className=\"form container\" onSubmit={onSubmit}>\r\n      <div>\r\n          <label>\r\n            First Name:\r\n            <input\r\n              value={formValues.first_name}\r\n              onChange={onChange}\r\n              name=\"first_name\"\r\n              type=\"text\"\r\n            />\r\n            {formErrors.first_name}\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <label>\r\n            Last Name:\r\n            <input\r\n              value={formValues.last_name}\r\n              onChange={onChange}\r\n              name=\"last_name\"\r\n              type=\"text\"\r\n            />\r\n            {formErrors.last_name}\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <label>\r\n            Role\r\n            <select onChange={onChange} value={formValues.role} name=\"role\">\r\n              <option value=\"\">-- Select an Option --</option>\r\n              <option value=\"owner\">Owner</option>\r\n              <option value=\"renter\">Renter</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <label>\r\n            Email:\r\n            <input\r\n              value={formValues.email}\r\n              onChange={onChange}\r\n              name=\"email\"\r\n              type=\"text\"\r\n            />\r\n            {formErrors.email}\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <label>\r\n            Password:\r\n            <input\r\n              value={formValues.password}\r\n              onChange={onChange}\r\n              name=\"password\"\r\n              type=\"password\"\r\n            />\r\n            {formErrors.password}\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <button id=\"submitBtn\">Sign Up</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n\r\n}"]},"metadata":{},"sourceType":"module"}