{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Admin2/OneDrive/Lambda School/Web_3.3/BuildWeek2-ContextAPI/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/Admin2/OneDrive/Lambda School/Web_3.3/BuildWeek2-ContextAPI/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Route,Switch,Redirect}from'react-router-dom';// import { data } from './products';\nimport axios from'axios';import{CartContext}from'./contexts/CartContext';import{ProductContext}from'./contexts/ProductContext';import PrivateRoute from'./components/PrivateRoute';import Navigation from'./components/Navigation';import LoginForm from'./components/LoginForm';import SignUpForm from'./components/SignUpForm';import Products from'./components/Products';import ShoppingCart from'./components/ShoppingCart';import SellersDashboard from'./components/SellersDashboard';import useCart from'./hooks/useCart';import AddItemForm from'./components/AddItemForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(_ref){var newProducts=_ref.newProducts;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useCart=useCart([]),_useCart2=_slicedToArray(_useCart,2),cart=_useCart2[0],setCart=_useCart2[1];console.log(cart);useEffect(function(){axios.get('http://localhost:5000/api/products').then(function(res){console.log(res.data);setProducts(res.data);}).catch(function(err){console.log(err);});},[]);console.log(products);var addItem=function addItem(item){// add the given item to the cart\n//console.log(item, cart)\nsetCart([].concat(_toConsumableArray(cart),[item]));};var removeItem=function removeItem(item){setCart(cart.filter(function(product){return item.id!==product.id;}));};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(ProductContext.Provider,{value:{products:products,setProducts:setProducts,addItem:addItem},children:/*#__PURE__*/_jsxs(CartContext.Provider,{value:{cart:cart,removeItem:removeItem},children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Redirect,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",component:LoginForm}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",component:SignUpForm}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/products\",children:/*#__PURE__*/_jsx(Products,{products:products,addItem:addItem})}),/*#__PURE__*/_jsx(PrivateRoute,{path:\"/cart\",children:/*#__PURE__*/_jsx(ShoppingCart,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/sellers\",children:/*#__PURE__*/_jsx(SellersDashboard,{})}),/*#__PURE__*/_jsx(PrivateRoute,{path:\"/sellers/add\",children:/*#__PURE__*/_jsx(AddItemForm,{})})]})]})})});}export default App;","map":{"version":3,"sources":["C:/Users/Admin2/OneDrive/Lambda School/Web_3.3/BuildWeek2-ContextAPI/client/src/App.js"],"names":["React","useEffect","useState","Route","Switch","Redirect","axios","CartContext","ProductContext","PrivateRoute","Navigation","LoginForm","SignUpForm","Products","ShoppingCart","SellersDashboard","useCart","AddItemForm","App","newProducts","products","setProducts","cart","setCart","console","log","get","then","res","data","catch","err","addItem","item","removeItem","filter","product","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\n// import { data } from './products';\r\nimport axios from 'axios';\r\nimport { CartContext } from './contexts/CartContext';\r\nimport { ProductContext } from './contexts/ProductContext'\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport Navigation from './components/Navigation';\r\nimport LoginForm from './components/LoginForm';\r\nimport SignUpForm from './components/SignUpForm';\r\nimport Products from './components/Products';\r\nimport ShoppingCart from './components/ShoppingCart';\r\nimport SellersDashboard from './components/SellersDashboard';\r\nimport useCart from './hooks/useCart';\r\nimport AddItemForm from './components/AddItemForm';\r\n\r\nfunction App({newProducts}) {\r\n\tconst [products, setProducts] = useState([]);\r\n\tconst [cart, setCart] = useCart([]);\r\n\tconsole.log(cart)\r\n\r\n  useEffect(()=>{\r\n    axios.get('http://localhost:5000/api/products')\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res.data)\r\n        setProducts(res.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n\t}, []);\r\n\r\n\tconsole.log(products);\r\n\tconst addItem = item => {\r\n\t\t// add the given item to the cart\r\n\t\t//console.log(item, cart)\r\n\t\tsetCart([...cart, item])\r\n\t};\r\n\r\n\tconst removeItem = item => {\r\n\t\tsetCart(\r\n\t\t\tcart.filter(product => item.id !== product.id\r\n\t\t))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<ProductContext.Provider value={{ products, setProducts, addItem }}>\r\n\r\n\t\t\t\t<CartContext.Provider value={{cart, removeItem}}>\r\n\t\t\t\t\t<Navigation />\r\n\t\t\t\t\t{/* Routes */}\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path='/'>\r\n\t\t\t\t\t\t\t<Redirect to='/login'/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path='/login' component={LoginForm}/>\r\n\t\t\t\t\t\t<Route path='/signup' component={SignUpForm}/>\r\n\t\t\t\t\t\t<PrivateRoute exact path=\"/products\">\r\n\t\t\t\t\t\t\t{/* <Products /> */}\r\n\t\t\t\t\t\t\t<Products products={products} addItem={addItem} />\r\n\t\t\t\t\t\t</PrivateRoute>\r\n\t\t\t\t\t\t<PrivateRoute path=\"/cart\">\r\n\t\t\t\t\t\t\t<ShoppingCart />\r\n\t\t\t\t\t\t</PrivateRoute>\r\n\t\t\t\t\t\t<PrivateRoute exact path='/sellers'>\r\n\t\t\t\t\t\t\t<SellersDashboard/>\r\n\t\t\t\t\t\t\t</PrivateRoute>\r\n\t\t\t\t\t\t<PrivateRoute path='/sellers/add' >\r\n\t\t\t\t\t\t\t<AddItemForm/>\r\n\t\t\t\t\t\t</PrivateRoute>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</CartContext.Provider>\r\n\t\t\t</ProductContext.Provider>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}